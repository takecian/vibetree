# Internationalization (i18n)

This document outlines the internationalization strategy for the VibeTree project.

## Overview

The VibeTree project aims to support multiple languages to provide a better user experience for a global audience. We use `i18next` for handling internationalization in our client-side application.

## Setup

### Client-side (React)

1.  **Installation**:
    ```bash
    npm install react-i18next i18next i18next-browser-languagedetector
    ```

2.  **Configuration**:
    The i18next configuration is located in `client/src/i18n/config.ts`. This file initializes i18next with:
    *   Supported languages.
    *   Default language.
    *   Fallback language.
    *   Language detection strategy (e.g., browser language).
    *   Resource loading (where to find translation files).

    Example `client/src/i18n/config.ts`:
    ```typescript
    import i18n from 'i18next';
    import { initReactI18next } from 'react-i18next';
    import LanguageDetector from 'i18next-browser-languagedetector';

    import en from './locales/en.json';
    import ja from './locales/ja.json';
    import ko from './locales/ko.json';
    import zh from './locales/zh.json';

    export const resources = {
      en: {
        translation: en,
      },
      ja: {
        translation: ja,
      },
      ko: {
        translation: ko,
      },
      zh: {
        translation: zh,
      },
    } as const;

    i18n
      .use(LanguageDetector)
      .use(initReactI18next)
      .init({
        fallbackLng: 'en',
        debug: true,
        resources,
        interpolation: {
          escapeValue: false, // not needed for react as it escapes by default
        },
      });

    export default i18n;
    ```

3.  **Translation Files**:
    Translation files are located in `client/src/i18n/locales/`. Each language has its own JSON file (e.g., `en.json`, `ja.json`).

    Example `client/src/i18n/locales/en.json`:
    ```json
    {
      "welcome": "Welcome to VibeTree",
      "greeting": "Hello, {{name}}!"
    }
    ```

4.  **Usage in React Components**:
    Use the `useTranslation` hook from `react-i18next` to access translation functions.

    Example `client/src/App.tsx` (or any other component):
    ```typescript
    import React from 'react';
    import { useTranslation } from 'react-i18next';
    import LanguageSelector from './components/LanguageSelector';

    function App() {
      const { t } = useTranslation();

      return (
        <div>
          <h1>{t('welcome')}</h1>
          <p>{t('greeting', { name: 'User' })}</p>
          <LanguageSelector />
        </div>
      );
    }

    export default App;
    ```

## Language Selector Component

The `LanguageSelector` component (located in `client/src/components/LanguageSelector.tsx`) allows users to change the application language.

Example `client/src/components/LanguageSelector.tsx`:
```typescript
import React from 'react';
import { useTranslation } from 'react-i18next';

const LanguageSelector: React.FC = () => {
  const { i18n } = useTranslation();

  const changeLanguage = (event: React.ChangeEvent<HTMLSelectElement>) => {
    i18n.changeLanguage(event.target.value);
  };

  return (
    <select onChange={changeLanguage} value={i18n.language}>
      <option value="en">English</option>
      <option value="ja">日本語</option>
      <option value="ko">한국어</option>
      <option value="zh">中文</option>
    </select>
  );
};

export default LanguageSelector;
```

## Adding New Languages

To add a new language:

1.  Create a new JSON file for the language in `client/src/i18n/locales/` (e.g., `es.json` for Spanish).
2.  Add the new language to the `resources` object in `client/src/i18n/config.ts`.
3.  Update the `LanguageSelector` component to include the new language option.

## Best Practices

*   **Keys**: Use descriptive and hierarchical keys for translations (e.g., `common.buttons.submit`, `homepage.title`).
*   **Placeholders**: Utilize interpolation for dynamic content (e.g., `Hello, {{name}}!`).
*   **Context**: Use translation contexts for different forms of a word (e.g., `key_0`, `key_1` for plurals).

Feel free to contribute to translations or suggest improvements to the i18n setup.